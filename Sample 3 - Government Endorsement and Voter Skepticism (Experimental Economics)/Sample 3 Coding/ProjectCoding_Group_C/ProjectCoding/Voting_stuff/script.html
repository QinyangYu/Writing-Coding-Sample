<script src="https://kit.fontawesome.com/38f6f1d610.js" crossorigin="anonymous"></script>
<script>
var qlist = document.getElementsByClassName("questionCard");
var proceed_button = document.getElementsByClassName("button")

var nxt_button = document.getElementById("nxt")
var prev_button = document.getElementById("prev")

var i = 0;
var length = qlist.length;

waiting_time=30;

var seconds = waiting_time;


setInterval(function() {
    if (seconds>=0){
        wait_time.innerHTML = Math.round(seconds);
        seconds = seconds - 0.01;
    }
},10);



var decoy = document.getElementsByClassName("decoy")

function decoy_stuff_0() {
    decoy[0].style.display='none';
    nxt_button.style.display ='block';}


function decoy_stuff(){setTimeout(decoy_stuff_0,waiting_time*1000+500)}

decoy_stuff()

var visited = Array(length).fill(0)

function  next () {
    if (i == length-2){
        proceed_button[0].style.display = 'block';
        decoy[0].style.display='none';
        nxt_button.style.display ='none';
    }
    if (i < length-2){
        if (visited[i] == 0){
            nxt_button.style.display ='none';
            decoy[0].style.display='block';
            decoy_stuff();
            visited[i]++
        }
    }
    seconds=waiting_time;

    prev_button.style.display ='block';
    qlist[i].style.display = 'none';
    qlist[i+1].style.display = 'block';
    i++
}




function previous () {
    if (i == 1){
        prev_button.style.display ='none';
    }
    if (i == length-1){
        nxt_button.style.display ='block';
        proceed_button[0].style.display = 'none';
    }
    qlist[i].style.display = 'none';
    qlist[i - 1].style.display = 'block';
    i--
}













var bgopacity = 0
var direction = 1
var counter = 1

var bgfade = function() {
	if (counter <= 3){
    var highlight = document.getElementsByClassName("highlight");

    if (direction == 1){bgopacity += 0.01}

    if (bgopacity > 1){direction = -1}

    if (direction == -1){bgopacity -= 0.01}

    if (bgopacity < 0){direction = 1; counter++}

    if (direction == 1){bgopacity += 0.01}

    highlight[0].style.backgroundColor = "rgba(255, 242, 130, " + bgopacity + ")";
    if (bgopacity >= 0) {
      setTimeout(bgfade, 10);
    }
  }
}

bgfade();


function goPrevious() {
    window.history.back(); 
}

function goNext() {
    window.history.forward();
}

</script>